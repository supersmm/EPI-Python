# Note that s[~i] for i in [0, len(s)-1] is s[-(i+1)]